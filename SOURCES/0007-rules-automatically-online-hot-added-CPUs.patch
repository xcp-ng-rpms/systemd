From cb0c7e5445624b7bc67fc4c10a91d5cf3dd6ce6f Mon Sep 17 00:00:00 2001
From: Michal Sekletar <msekleta@redhat.com>
Date: Mon, 22 Sep 2014 07:41:06 +0200
Subject: [PATCH] rules: automatically online hot-added CPUs

RHEL-only patch

Resolves: #968811

Conflicts:
	Makefile.am
---
 Makefile.am           | 3 ++-
 rules/40-redhat.rules | 3 +++
 2 files changed, 5 insertions(+), 1 deletion(-)
 create mode 100644 rules/40-redhat.rules

diff --git a/Makefile.am b/Makefile.am
index 75459f74d..a734e9c48 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -3564,7 +3564,8 @@ dist_udevrules_DATA += \
 	rules/75-tty-description.rules \
 	rules/78-sound-card.rules \
 	rules/80-net-setup-link.rules \
-	rules/95-udev-late.rules
+	rules/95-udev-late.rules \
+	rules/40-redhat.rules
 
 nodist_udevrules_DATA += \
 	rules/99-systemd.rules
diff --git a/rules/40-redhat.rules b/rules/40-redhat.rules
new file mode 100644
index 000000000..2b494e57c
--- /dev/null
+++ b/rules/40-redhat.rules
@@ -0,0 +1,3 @@
+# do not edit this file, it will be overwritten on update
+
+SUBSYSTEM=="cpu", ACTION=="add", TEST=="online", ATTR{online}=="0", ATTR{online}="1"
