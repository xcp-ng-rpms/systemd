From 6d5b6bff86bca5db72a859330a29783fc5676935 Mon Sep 17 00:00:00 2001
From: Lukas Nykryn <lnykryn@redhat.com>
Date: Thu, 21 May 2015 09:23:04 +0200
Subject: [PATCH] rules: load sg module

Revert of 09637f743414e2c36d6c5b032d77d76dbeb86b31
RHEL-only

Resolves: #1223340
---
 rules/40-redhat.rules | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/rules/40-redhat.rules b/rules/40-redhat.rules
index 2b494e5..b14f8a9 100644
--- a/rules/40-redhat.rules
+++ b/rules/40-redhat.rules
@@ -1,3 +1,6 @@
 # do not edit this file, it will be overwritten on update
 
 SUBSYSTEM=="cpu", ACTION=="add", TEST=="online", ATTR{online}=="0", ATTR{online}="1"
+
+# load SCSI generic (sg) driver
+SUBSYSTEM=="scsi", ENV{DEVTYPE}=="scsi_device", TEST!="[module/sg]", RUN+="/sbin/modprobe -bv sg"
